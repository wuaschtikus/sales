{% extends '../base/base.html' %}
{% load static %}
{% load i18n %}
{% load account socialaccount %}
{% block content %}
{% include '../base/snippets/navbar.html' %}

<section class="pb-2">
        <div class="pl-5">
        <h1 class="title">User Profile</h1>
    </div>
</section>

{% comment %} <section>
    <div class="container is-fluid">
        <nav class="py-2 breadcrumb has-arrow-separator is-small" aria-label="breadcrumbs">
            <ul>
                <li><a href="{% url 'index' %}">Home</a></li>
                <li class="is-active"><a href="{% url 'user-profile' %}" aria-current="page">Profile</a></li>
            </ul>
        </nav>
    </div>
</section> {% endcomment %}

<section class="pl-2 pr-2">
    <div class="box">
        <div class="columns is-multiline">
            <div class="column is-6-tablet">
                <div class="field is-horizontal">
                    <div class="field-label is-normal">
                        <label class="label">Email</label>
                    </div>
                    <div class="field-body">
                        <div class="field">
                            <div class="control">
                                <input class="input" type="email" name="{{ form.email.name }}" id="{{ form.email.id_for_label }}" value="{{ user.email }}" disabled>
                                <div class="is-size-7 has-text-left">
                                    {{ form.email.errors|escape }}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="column is-6-tablet">
                <a href="{% url 'account_email' %}" class="button">Change Email</a>
            </div>
            <div class="column is-6-tablet">
                <div class="field is-horizontal">
                    <div class="field-label is-normal">
                        <label class="label">Account</label>
                    </div>
                    <div class="field-body">
                        <div class="field">
                            <div class="control">
                                <a href="{% url 'account_reset_password' %}" class="button">Change Password</a>
                                <a href="{% url 'delete-account' %}" class="button is-danger">Delete Account</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="column is-6-tablet">
                <!-- nothing to see here-->
            </div>
        </div>
    </div>
</section>


<section class="pt-4">
    <div class="pl-5">
        <h1 class="title">Social Account</h1>
    </div>
</section>

{% if user.socialaccount_set.all %}
    <section class="pl-2 pr-2 pt-2"> 
        <div class="box">
            <div class="columns is-multiline">
                <div class="column is-6-tablet">
                    <div class="field is-horizontal">
                        <div class="field-label is-normal">
                            <label class="label">Manage</label>
                        </div>
                        <div class="field-body">
                            <div class="field">
                                <div class="control">
                                    <a href="{% url 'socialaccount_connections' %}" class="button">Connected Accounts</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="column is-6-tablet">
                    <!-- nothing to see here-->
                </div>
            </div>
        </div>
    </section>
{% else %}
    <section class="pl-2 pr-2 pt-2"> 
        <div class="box">
            <div class="columns is-multiline">
                
                <div class="column is-6-tablet">
                    <div class="field is-horizontal">
                        <div class="field-label is-normal">
                            <label class="label">Add 3rd Party Account</label>
                        </div>
                        <div class="field-body">
                            <div class="field">
                                <div class="control">

                                    {% include "socialaccount/snippets/provider_list.html" with process="connect" %}

                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="column is-6-tablet">
                    <!-- nothing to see here-->
                </div>
            </div>
        </div>
    </section>
{% endif %}

<section class="pt-4">
        <div class="pl-5">
        <h1 class="title">Subscription</h1>
    </div>
</section>

<section class="pl-2 pr-2 pt-2">
    <div class="box">
        <div class="columns is-multiline">
            <div class="column is-6-tablet">
                <div class="field is-horizontal">
                    <div class="field-label is-normal">
                        <label class="label">Sub No.</label>
                    </div>
                    <div class="field-body">
                        <div class="field">
                            <div class="control">
                                <input class="input" type="email" name="{{ form.email.name }}" id="{{ form.email.id_for_label }}" value="681789798798" disabled>
                                <div class="is-size-7 has-text-left">
                                    {{ form.email.errors|escape }}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="column is-6-tablet">
                {% comment %} <a href="{% url 'account_email' %}" class="button">Add Email</a> {% endcomment %}
            </div>
            <div class="column is-6-tablet">
                <div class="field is-horizontal">
                    <div class="field-label is-normal">
                        <label class="label"></label>
                    </div>
                    <div class="field-body">
                        <div class="field">
                            <div class="control">
                                <a href="#" class="button is-danger">Cancel Subscription</a>
                                <a href="#" class="button">Invoices</a>
                            </div>
                        </div>
                    </div>
                </div>
    
            </div>
            <div class="column is-6-tablet">
                <!-- nothing to see here-->
            </div>
        </div>
    </div>
</section>

{% endblock %}

{% block footer %}
        {% include 'base/snippets/footer.html' %}
{% endblock %}